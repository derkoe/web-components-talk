const t=window.todo.h;class e{constructor(t,e=!1,o=function(){let t="";for(let e=0;e<32;e++){const o=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&o|8:o).toString(16)}return t}()){this.title=t,this.completed=e,this.id=o}}const o="todos-stencil";class l{constructor(){this.todos=[]}add(t){return this.save(this.todos.concat(new e(t)))}editTitle(t,e){return this.edit(t.id,t=>Object.assign({},t,{title:e}))}toggleCompleted(t){return this.edit(t.id,t=>Object.assign({},t,{completed:!t.completed}))}toggleAll(t){return this.save(this.todos.map(e=>Object.assign({},e,{completed:t})))}delete(t){return this.save(this.todos.filter(e=>e.id!==t.id))}clearCompleted(){return this.save(this.todos.filter(t=>!t.completed))}load(){return this.todos=window.localStorage?JSON.parse(localStorage.getItem(o)||"[]"):[]}save(t){return window.localStorage&&localStorage.setItem(o,JSON.stringify(t)),this.todos=t}edit(t,e){return this.save(this.todos.map(o=>t===o.id?e(o):o))}}const s=13,i=27;class d{constructor(){this.todoService=new l,this.todos=this.todoService.load(),this.filter="all"}get filteredTodos(){switch(this.filter){case"active":return this.todos.filter(t=>!t.completed);case"completed":return this.todos.filter(t=>t.completed);default:return this.todos}}render(){return t("section",{class:"todoapp"},t("header",{class:"header"},t("input",{class:"new-todo",placeholder:"What needs to be done?",autoComplete:"on",autoFocus:!0,onKeyUp:t=>this.onNewKeyUp(t)})),this.renderTodoList(),this.todos.length>0?this.renderTodoFooter():null)}renderTodoList(){return this.filteredTodos.length<=0?null:t("section",{class:"main"},t("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",onClick:t=>this.toggleAll(),checked:this.allCompleted()}),t("label",{htmlFor:"toggle-all"},"Mark all as complete"),t("ul",{class:"todo-list"},this.filteredTodos.map(t=>this.renderTodo(t))))}renderTodo(e){return t("li",{class:{completed:e.completed,editing:e.id===this.editing}},t("div",{class:"view"},t("input",{class:"toggle",type:"checkbox",checked:e.completed,onChange:()=>this.toggleCompleted(e)}),t("label",{onDblClick:t=>this.edit(e,t)},e.title),t("button",{class:"destroy",onClick:()=>this.deleteTodo(e)})),t("input",{class:"edit",onBlur:t=>this.doneEdit(e,t),onKeyUp:t=>this.onEditKeyUp(e,t),value:e.title}))}renderTodoFooter(){let e=null;return this.todos.some(t=>t.completed)&&(e=t("button",{class:"clear-completed",onClick:t=>this.clearCompleted()},"Clear completed")),t("footer",{class:"footer"},this.renderTodoCount(),t("ul",{class:"filters"},t("li",null,t("a",{onClick:()=>this.setFilter("all"),class:{selected:"all"===this.filter}},"All")),t("li",null,t("a",{onClick:()=>this.setFilter("active"),class:{selected:"active"===this.filter}},"Active")),t("li",null,t("a",{onClick:()=>this.setFilter("completed"),class:{selected:"completed"===this.filter}},"Completed"))),e)}renderTodoCount(){const e=this.todos.filter(t=>!t.completed).length;return t("span",{class:"todo-count"},t("strong",null,e)," ",e>1||e<1?"items":"item"," left")}onNewKeyUp(t){if(t.keyCode===s){const e=t.target;""!==e.value.trim()&&(this.todos=this.todoService.add(e.value),e.value="")}}edit(t,e){this.editing=t.id;const o=this.el.shadowRoot;setTimeout(()=>{if(o){const t=o.querySelector(".editing .edit");t&&(t.focus(),t.selectionStart=t.value.length)}},0)}onEditKeyUp(t,e){e.keyCode===s?this.doneEdit(t,e):e.keyCode===i&&(this.editing=null)}doneEdit(t,e){this.editing=null;const o=e.target.value.trim();o&&o.length>0?this.todos=this.todoService.editTitle(t,o):this.deleteTodo(t)}deleteTodo(t){this.todos=this.todoService.delete(t)}toggleCompleted(t){this.todos=this.todoService.toggleCompleted(t)}toggleAll(){this.todos=this.todoService.toggleAll(!this.allCompleted())}allCompleted(){return 0===this.todos.filter(t=>!t.completed).length}clearCompleted(){this.todos=this.todoService.clearCompleted()}setFilter(t){this.filter=t}static get is(){return"todomvc-stencil"}static get encapsulation(){return"shadow"}static get properties(){return{editing:{state:!0},el:{elementRef:!0},filter:{state:!0},todos:{state:!0}}}static get style(){return"button.sc-todomvc-stencil{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased}.sc-todomvc-stencil-h{font:14px Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.4em;background:#f5f5f5;color:#4d4d4d;min-width:230px;max-width:550px;margin:0 auto;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased;font-weight:300}button.sc-todomvc-stencil, input[type=checkbox].sc-todomvc-stencil{outline:none}.hidden.sc-todomvc-stencil{display:none}.todoapp.sc-todomvc-stencil{background:#fff;margin:30px 0 40px 0;position:relative;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1);box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1)}.todoapp.sc-todomvc-stencil   input.sc-todomvc-stencil::-webkit-input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp.sc-todomvc-stencil   input.sc-todomvc-stencil::-moz-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp.sc-todomvc-stencil   input.sc-todomvc-stencil::input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.edit.sc-todomvc-stencil, .new-todo.sc-todomvc-stencil{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;outline:none;color:inherit;padding:6px;border:1px solid #999;-webkit-box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased}.new-todo.sc-todomvc-stencil{padding:16px 16px 16px 60px;border:none;background:rgba(0,0,0,.003);-webkit-box-shadow:inset 0 -2px 1px rgba(0,0,0,.03);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.main.sc-todomvc-stencil{position:relative;z-index:2;border-top:1px solid #e6e6e6}label[for=toggle-all].sc-todomvc-stencil{display:none}.toggle-all.sc-todomvc-stencil{position:absolute;top:-55px;left:-12px;width:60px;height:34px;text-align:center;border:none}.toggle-all.sc-todomvc-stencil:before{content:\"❯\";font-size:22px;color:#e6e6e6;padding:10px 27px 10px 27px}.toggle-all.sc-todomvc-stencil:checked:before{color:#737373}.todo-list.sc-todomvc-stencil{margin:0;padding:0;list-style:none}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil{position:relative;font-size:24px;border-bottom:1px solid #ededed}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil:last-child{border-bottom:none}.todo-list.sc-todomvc-stencil   li.editing.sc-todomvc-stencil{border-bottom:none;padding:0}.todo-list.sc-todomvc-stencil   li.editing.sc-todomvc-stencil   .edit.sc-todomvc-stencil{display:block;width:506px;padding:13px 17px 12px 17px;margin:0 0 0 43px}.todo-list.sc-todomvc-stencil   li.editing.sc-todomvc-stencil   .view.sc-todomvc-stencil{display:none}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .toggle.sc-todomvc-stencil{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .toggle.sc-todomvc-stencil:after{content:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-10 -18 100 135\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"none\" stroke=\"#ededed\" stroke-width=\"3\"/></svg>')}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .toggle.sc-todomvc-stencil:checked:after{content:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"-10 -18 100 135\"><circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"none\" stroke=\"#bddad5\" stroke-width=\"3\"/><path fill=\"#5dc2af\" d=\"M72 25L42 71 27 56l-4 4 20 20 34-52z\"/></svg>')}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   label.sc-todomvc-stencil{white-space:pre-line;word-break:break-all;padding:15px 60px 15px 15px;margin-left:45px;display:block;line-height:1.2;-webkit-transition:color .4s;transition:color .4s}.todo-list.sc-todomvc-stencil   li.completed.sc-todomvc-stencil   label.sc-todomvc-stencil{color:#d9d9d9;text-decoration:line-through}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .destroy.sc-todomvc-stencil{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;-webkit-transition:color .2s ease-out;transition:color .2s ease-out}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .destroy.sc-todomvc-stencil:hover{color:#af5b5e}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .destroy.sc-todomvc-stencil:after{content:\"×\"}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil:hover   .destroy.sc-todomvc-stencil{display:block}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .edit.sc-todomvc-stencil{display:none}.todo-list.sc-todomvc-stencil   li.editing.sc-todomvc-stencil:last-child{margin-bottom:-1px}.footer.sc-todomvc-stencil{color:#777;padding:10px 15px;height:20px;text-align:center;border-top:1px solid #e6e6e6}.footer.sc-todomvc-stencil:before{content:\"\";position:absolute;right:0;bottom:0;left:0;height:50px;overflow:hidden;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #f6f6f6,0 9px 1px -3px rgba(0,0,0,.2),0 16px 0 -6px #f6f6f6,0 17px 2px -6px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #f6f6f6,0 9px 1px -3px rgba(0,0,0,.2),0 16px 0 -6px #f6f6f6,0 17px 2px -6px rgba(0,0,0,.2)}.todo-count.sc-todomvc-stencil{float:left;text-align:left}.todo-count.sc-todomvc-stencil   strong.sc-todomvc-stencil{font-weight:300}.filters.sc-todomvc-stencil{margin:0;padding:0;list-style:none;position:absolute;right:0;left:0}.filters.sc-todomvc-stencil   li.sc-todomvc-stencil{display:inline}.filters.sc-todomvc-stencil   li.sc-todomvc-stencil   a.sc-todomvc-stencil{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px;cursor:pointer}.filters.sc-todomvc-stencil   li.sc-todomvc-stencil   a.selected.sc-todomvc-stencil, .filters.sc-todomvc-stencil   li.sc-todomvc-stencil   a.sc-todomvc-stencil:hover{border-color:rgba(175,47,47,.1)}.filters.sc-todomvc-stencil   li.sc-todomvc-stencil   a.selected.sc-todomvc-stencil{border-color:rgba(175,47,47,.2)}.clear-completed.sc-todomvc-stencil, html.sc-todomvc-stencil   .clear-completed.sc-todomvc-stencil:active{float:right;line-height:20px;text-decoration:none;cursor:pointer;position:relative}.clear-completed.sc-todomvc-stencil:hover{text-decoration:underline}.info.sc-todomvc-stencil{margin:65px auto 0;color:#bfbfbf;font-size:10px;text-shadow:0 1px 0 hsla(0,0%,100%,.5);text-align:center}.info.sc-todomvc-stencil   p.sc-todomvc-stencil{line-height:1}.info.sc-todomvc-stencil   a.sc-todomvc-stencil{color:inherit;text-decoration:none;font-weight:400}.info.sc-todomvc-stencil   a.sc-todomvc-stencil:hover{text-decoration:underline}\@media screen and (-webkit-min-device-pixel-ratio:0){.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .toggle.sc-todomvc-stencil, .toggle-all.sc-todomvc-stencil{background:none}.todo-list.sc-todomvc-stencil   li.sc-todomvc-stencil   .toggle.sc-todomvc-stencil{height:40px}.toggle-all.sc-todomvc-stencil{-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-appearance:none;-moz-appearance:none;appearance:none}}\@media (max-width:430px){.footer.sc-todomvc-stencil{height:50px}.filters.sc-todomvc-stencil{bottom:10px}}"}}export{d as TodomvcStencil};